<div class="container mx-auto mt-10">
  <form [formGroup]="expenseForm" (ngSubmit)="addExpense(expenseForm)" novalidate>
    <div class="mb-4">
      <label for="name" class="block text-gray-700 text-sm font-bold mb-2" i18n="@@expenses.name">Nom :</label>
      <input type="text" id="name" formControlName="name" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
    </div>

    <div class="mb-4">
      <label for="amount" class="block text-gray-700 text-sm font-bold mb-2" i18n="@@expenses.value">Valeur (€) :</label>
      <input type="number" id="amount" formControlName="amount" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
    </div>

    <div class="mb-4">
      <label for="status" class="block text-gray-700 text-sm font-bold mb-2">Statut :</label>
      <select id="status" formControlName="status" class="block w-full bg-white border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 text-gray-700 px-3 py-2 rounded-md">
        <option value="en attente" i18n="@@expenses.waiting">En attente</option>
        <option value="terminé" i18n="@@expenses.ended">Terminé</option>
      </select>
    </div>

    <div class="flex items-center justify-between">
      <button type="submit" [disabled]="expenseForm.invalid"  class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
        Ajouter
      </button>
    </div>
  </form>
  <div *ngIf="expenseForm.get('name')?.touched && expenseForm.get('name')?.errors?.['required']">
    Le nom est requis.
  </div>
  
  <div *ngIf="expenseForm.get('name')?.touched && expenseForm.get('name')?.errors?.['minlength']">
    Le nom doit comporter au moins 2 caractères.
  </div>

  <div *ngIf="expenseForm.get('amount')?.touched && expenseForm.get('amount')?.errors?.['required']">
    Le montant est requis.
  </div>
  
  <div *ngIf="expenseForm.get('amount')?.touched && expenseForm.get('amount')?.errors?.['min']">
    Le montant doit être supérieur à 0.
  </div>
  
  <div *ngIf="expenseForm.get('status')?.touched && expenseForm.get('status')?.errors?.['required']">
    Le statut est requis.
  </div>
</div>
